# ==============================================
# NFT Multichain Minter Backend - Production Environment
# ==============================================
# Copy this file to .env in production and fill in all required values
# Never commit the actual .env file to version control

# --------------------------------------------
# Application Configuration
# --------------------------------------------
# Server port (Railway will inject PORT automatically)
PORT=8000

# Environment mode (MUST be 'production')
NODE_ENV=production

# --------------------------------------------
# JWT Authentication (CRITICAL SECURITY)
# --------------------------------------------
# JWT secret for signing tokens
# REQUIRED: Minimum 64 characters recommended for production
# Generate with: openssl rand -hex 64
# WARNING: Keep this secret secure! Never expose publicly
JWT_SECRET=your-super-secret-jwt-key-minimum-64-characters-recommended-use-openssl-rand

# JWT token expiry duration (2h recommended)
JWT_EXPIRES_IN=2h

# --------------------------------------------
# Redis Configuration
# --------------------------------------------
# Redis connection URL for queue processing and rate limiting
# Railway Redis format: redis://default:password@host:port
# External Redis services (Upstash, Redis Labs, etc.) also supported
REDIS_URL=redis://default:password@redis.railway.internal:6379

# --------------------------------------------
# CORS Configuration
# --------------------------------------------
# Production frontend URL (your deployed Vercel domain)
# Used for CORS origin validation
# Example: https://your-nft-app.vercel.app
FRONTEND_URL=https://your-production-domain.vercel.app

# --------------------------------------------
# IPFS / NFT.Storage Configuration
# --------------------------------------------
# NFT.Storage API key for IPFS uploads
# Get your free API key from: https://nft.storage
# REQUIRED for NFT metadata and asset storage
NFT_STORAGE_API_KEY=your-nft-storage-api-key-from-nft-storage-website

# --------------------------------------------
# Ethereum Configuration
# --------------------------------------------
# Ethereum RPC provider URL
# Recommended providers:
#   - Infura: https://sepolia.infura.io/v3/YOUR_PROJECT_ID
#   - Alchemy: https://eth-sepolia.g.alchemy.com/v2/YOUR_API_KEY
#   - QuickNode: https://your-endpoint.quiknode.pro/YOUR_API_KEY
# For mainnet: Replace 'sepolia' with 'mainnet'
ETH_RPC_URL=https://sepolia.infura.io/v3/YOUR_INFURA_PROJECT_ID

# Deployed ERC-721 contract address (from hardhat deployment)
# Format: 0x followed by 40 hexadecimal characters
ETH_CONTRACT_ADDRESS=0xYourDeployedContractAddressHere

# Contract deployer private key (if backend needs to mint)
# WARNING: CRITICAL SECURITY - Keep this extremely secure!
# Only needed if backend performs server-side minting
# Remove this if using client-side minting only
ETH_PRIVATE_KEY=your-private-key-without-0x-prefix

# Ethereum network identifier (sepolia, mainnet, goerli, etc.)
ETH_NETWORK=sepolia

# --------------------------------------------
# Hedera Hashgraph Configuration
# --------------------------------------------
# Hedera network mode (testnet or mainnet)
HEDERA_NETWORK=testnet

# Hedera operator account ID
# Format: 0.0.xxxxx (e.g., 0.0.12345)
# Get from: https://portal.hedera.com
HEDERA_OPERATOR_ID=0.0.YOUR_ACCOUNT_ID

# Hedera operator private key (DER-encoded hex string)
# WARNING: CRITICAL SECURITY - Keep this extremely secure!
# Get from: https://portal.hedera.com
HEDERA_OPERATOR_KEY=302e020100300506032b657004220420yourhederaoperatorprivatekeyinhex

# Hedera NFT Token ID (HTS token)
# Format: 0.0.xxxxx
# Created via Hedera Token Service
HEDERA_NFT_TOKEN_ID=0.0.YOUR_TOKEN_ID

# --------------------------------------------
# Rate Limiting Configuration (Production Recommended)
# --------------------------------------------
# Rate limits per wallet address per minute
# Prevents individual wallet spam
ETH_RATE_LIMIT_PER_WALLET=10
HEDERA_RATE_LIMIT_PER_WALLET=5

# Global API rate limit (requests per 15 minutes per IP)
# Prevents overall API abuse
GLOBAL_RATE_LIMIT=100

# --------------------------------------------
# Circuit Breaker Configuration (Production Recommended)
# --------------------------------------------
# Ethereum RPC circuit breaker settings
# Protects against failing RPC endpoints
ETH_RPC_TIMEOUT=10000
ETH_RPC_ERROR_THRESHOLD=50
ETH_RPC_RESET_TIMEOUT=30000

# Hedera SDK circuit breaker settings
HEDERA_TIMEOUT=15000
HEDERA_ERROR_THRESHOLD=40
HEDERA_RESET_TIMEOUT=30000

# IPFS circuit breaker settings
IPFS_TIMEOUT=15000
IPFS_ERROR_THRESHOLD=50
IPFS_RESET_TIMEOUT=30000

# --------------------------------------------
# Production Monitoring (Optional but Recommended)
# --------------------------------------------
# Uncomment and configure if using external monitoring services

# Sentry error tracking (optional)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Log level for production (info, warn, error)
# LOG_LEVEL=info
